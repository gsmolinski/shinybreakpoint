<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="shinybreakpoint">
<title>Filtering by Id • shinybreakpoint</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Filtering by Id">
<meta property="og:description" content="shinybreakpoint">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">shinybreakpoint</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/app-structure.html">App Structure</a>
    <a class="dropdown-item" href="../articles/filtering-by-id.html">Filtering by Id</a>
    <a class="dropdown-item" href="../articles/debugging.html">Debugging</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/gsmolinski/shinybreakpoint/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="filtering-by-id_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="filtering-by-id_files/font-awesome-6.1.1/css/all.min.css" rel="stylesheet">
<link href="filtering-by-id_files/font-awesome-6.1.1/css/v4-shims.min.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Filtering by Id</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/gsmolinski/shinybreakpoint/blob/HEAD/vignettes/filtering-by-id.Rmd" class="external-link"><code>vignettes/filtering-by-id.Rmd</code></a></small>
      <div class="d-none name"><code>filtering-by-id.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="motivation">Motivation<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h2>
<p>First (<code>0.0.1</code>) version of <code>shinybreakpoint</code> treated code as a <em>words</em> segregated into R files, but only in some specific situations source code can be read in the same way as a book - e.g. any function definition makes it necessary to jump from one line to another to find the body of function. Reactive programming makes it even necessary to jump all the time between blocks of reactive context (which may exist in different files) - relevant code often is far away from where we are, between the code blocks connected to the outputs we do not looking for. This is of course the more problematic the less we know (or remember) code structure of the app.</p>
<p>The problem with the complicated app structure (complicated app itself <em>and</em> fact that it was developed using reactive programming) found the answer in <a href="https://rstudio.github.io/reactlog/" class="external-link">reactlog</a> package, where it is possible to see the graph with connected <code>input</code>s, <code>output</code>s and other reactive elements (<code>reactive</code>s, <code>observe</code>s) and where is possible to retrieve this information. <code>shinybreakpoint</code> base on this to provide possibility to display source code (but only reactive context) which is relevant for (connected to) given <code>Id</code>, where <code>Id</code> is an <code>input</code> or <code>output</code> Id.</p>
</div>
<div class="section level2">
<h2 id="filtering">Filtering<a class="anchor" aria-label="anchor" href="#filtering"></a>
</h2>
<p>To the right of <code>red filled circle</code> button (<i class="fa fa-circle" role="presentation" aria-label="circle icon" style="color: #984747;"></i>), the set of three small buttons is displayed and only the first one (<i class="fa-solid fa-file-lines" style="color: #d0a492;"></i>) is active all the time - this is a button responsible to display source code in a standard way (as a files). Other two are active if some <code>Id</code> is present to use it for filtering.</p>
<div class="section level3">
<h3 id="last-changed-input">Last changed input<a class="anchor" aria-label="anchor" href="#last-changed-input"></a>
</h3>
<p>The second button (<i class="fa-solid fa-backward" style="color: #d0a492;"></i>) can be use immediately after some <code>input</code> in the app has been changed<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;&lt;code&gt;shiny:inputchanged&lt;/code&gt; event is used for this. Reference: &lt;a href="https://shiny.rstudio.com/articles/js-events.html" class="external-link"&gt;JavaScript Events in Shiny&lt;/a&gt;&lt;/p&gt;'><sup>1</sup></a> <em>and</em> this <code>input</code> is connected to any reactive context. <code>input</code> can change due to user action, but the change can also be a result of some code running in the <code>server</code> part (like usage of <code>update*</code> function in <code>observe</code>). This mode can search (and it does this automatically) relevant source code - what may be already obvious - only for <code>input</code> Id.</p>
</div>
<div class="section level3">
<h3 id="chosen-id">Chosen Id<a class="anchor" aria-label="anchor" href="#chosen-id"></a>
</h3>
<p>Finally, third button (<i class="fa-solid fa-hand-pointer" style="color: #d0a492;"></i>) is responsible to display source code relevant for previously chosen <code>Id</code>. Choosing is performed by holding <code>Ctrl</code> on PC or <code>Cmd</code> on Mac and hovering over <code>input</code> or <code>output</code> element - in this case, similar to last changed input, <code>Id</code> will be saved if is connected to any reactive context. Visually, the indicator of this is a displayed cursor of type <code>progress</code> for a moment.</p>
<p>This mode makes it possible to choose <code>input</code> or <code>output</code> element.</p>
</div>
</div>
<div class="section level2">
<h2 id="requirements">Requirements<a class="anchor" aria-label="anchor" href="#requirements"></a>
</h2>
<p>Filtering mode can’t display <em>more</em> lines of source code than standard mode, but it can display <em>less</em> lines of code than in reality belongs to the <code>Id</code>. As a reminder and the first point, it should be noted that body of reactive context must be (and that’s also requirement for the standard mode) inside curly (<code><a href="https://rdrr.io/r/base/Paren.html" class="external-link">{}</a></code>) brackets to be found by <code>shinybreakpoint</code> as well as the body should be in separate line (so there is a space to set breakpoint), e.g.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r_iris</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="va">iris</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
<p>And additionaly (and also as a reminder as this was described in the article <em>App structure</em>), reactive context must be inside <code>server</code> part of the main app or <code>server</code> part of module (in theory - i.e. <code>shiny</code> allows for this - in can be outside of the <code>server</code> and <code>UI</code>, but <code>shinybreakpoint</code> won’t find these code blocks).</p>
<p>Thinking about other requirements specific just for filtering by <code>Id</code>, it must be said that along with limitations linked to <code>shinybreakpoint</code>, some of them are the consequence of using <code>reactlog</code> / <code><a href="https://rdrr.io/pkg/shiny/man/bindEvent.html" class="external-link">shiny::bindEvent()</a></code>. In the latter we can spot situations where source reference to object is keep and situations where is not - the second situation is of course problematic, because we don’t have an easy access to the name of the file and line where the reactive context exists. Source reference (<code>srcref</code> attribute) is not keep if:</p>
<ul>
<li>curly brackets are not used in the body of reactive context</li>
<li>
<code><a href="https://rdrr.io/pkg/shiny/man/observe.html" class="external-link">observe()</a></code> (or <code><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent()</a></code>) is used, no matter if the code block is in curly brackets (<code><a href="https://rdrr.io/r/base/Paren.html" class="external-link">{}</a></code>) or not</li>
<li>
<code><a href="https://rdrr.io/pkg/shiny/man/bindEvent.html" class="external-link">shiny::bindEvent()</a></code> is used, no matter if on <code>observe</code>, <code>reactive</code> or <code>render*</code> object<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;This is an issue in &lt;code&gt;shiny&lt;/code&gt;: &lt;a href="https://github.com/rstudio/shiny/issues/3707" class="external-link uri"&gt;https://github.com/rstudio/shiny/issues/3707&lt;/a&gt;.&lt;/p&gt;'><sup>2</sup></a>
</li>
</ul>
<p>Luckily, we can use <code>label</code> parameter to answer these inconveniences. <code>label</code> is a parameter which exists for <code><a href="https://rdrr.io/pkg/shiny/man/observe.html" class="external-link">observe()</a></code> (and <code><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent()</a></code>), <code><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive()</a></code> (and <code><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">eventReactive()</a></code>) and <code><a href="https://rdrr.io/pkg/shiny/man/bindEvent.html" class="external-link">bindEvent()</a></code>. Now - <code>shinybreakpoint</code> reads the source code to retrieve these labels along with the information in which line and file, label was found. However, this process is successful only if:</p>
<ul>
<li>argument passed to <code>label</code> parameter is just a string (i.e. not a variable, not a string inside function call etc.)</li>
<li>argument passed to <code>label</code> parameter is unique across <em>all</em> labels and <code>Id</code>s (i.e. think about the label as an <code>Id</code> which must be unique)</li>
<li>but, at the same time, if <code><a href="https://rdrr.io/pkg/shiny/man/bindEvent.html" class="external-link">bindEvent()</a></code> is used on the <code>render*</code> function, then <strong>label must be the same as <code>Id</code></strong><a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;It looks like in this case there is also an issue with &lt;code&gt;&lt;a href="https://rdrr.io/pkg/shiny/man/bindEvent.html" class="external-link"&gt;bindEvent()&lt;/a&gt;&lt;/code&gt; using on &lt;code&gt;render*()&lt;/code&gt; function - if argument is passed to the &lt;code&gt;label&lt;/code&gt; parameter, event is not binded properly (&lt;a href="https://github.com/rstudio/shiny/issues/3699" class="external-link uri"&gt;https://github.com/rstudio/shiny/issues/3699&lt;/a&gt;). That’s somehow ironic since it is necessary to provide &lt;code&gt;label&lt;/code&gt; to use &lt;code&gt;shinybreakpoint&lt;/code&gt;, but it is currently not possible to use &lt;code&gt;&lt;a href="https://rdrr.io/pkg/shiny/man/bindEvent.html" class="external-link"&gt;bindEvent()&lt;/a&gt;&lt;/code&gt; with &lt;code&gt;label&lt;/code&gt; on &lt;code&gt;render*()&lt;/code&gt; object. Some workaround may be to set &lt;code&gt;ignoreInit&lt;/code&gt; on &lt;code&gt;TRUE&lt;/code&gt;, see &lt;code&gt;?bindEvent()&lt;/code&gt; for details.&lt;/p&gt;'><sup>3</sup></a>.</li>
</ul>
<p>Examples:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">iris_r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">iris</span></span>
<span>  <span class="op">}</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/bindEvent.html" class="external-link">bindEvent</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"iris data"</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">show_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderTable.html" class="external-link">renderTable</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu">iris_r</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/bindEvent.html" class="external-link">bindEvent</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"show_table"</span><span class="op">)</span></span>
<span>  </span>
<span>  </span>
<span>  <span class="va">cars_r</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">cars</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/observe.html" class="external-link">observe</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/invalidateLater.html" class="external-link">invalidateLater</a></span><span class="op">(</span><span class="fl">10000</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="fu">cars_r</span><span class="op">(</span><span class="op">)</span>, <span class="st">"file_saved_every_10_sec.rds"</span><span class="op">)</span></span>
<span>  <span class="op">}</span>, label <span class="op">=</span> <span class="st">"save cars dataset"</span><span class="op">)</span></span>
<span>  </span>
<span><span class="op">}</span></span></code></pre></div>
<p>To summarize: if <code><a href="https://rdrr.io/pkg/shiny/man/observe.html" class="external-link">observe()</a></code>, <code><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html" class="external-link">observeEvent()</a></code> or <code><a href="https://rdrr.io/pkg/shiny/man/bindEvent.html" class="external-link">bindEvent()</a></code> is used (even on <code><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive()</a></code>), then string must be passed <em>directly</em> to the <code>label</code> parameter and this string can’t be the same as other labels or <code>Id</code>s (across the whole app!) except if <code><a href="https://rdrr.io/pkg/shiny/man/bindEvent.html" class="external-link">bindEvent()</a></code> is used on <code>render*</code> object, because then a string passed as an argument to <code>label</code> parameter must be the same as the output <code>Id</code>.</p>
<p>Please keep in mind that one of the main ideas on which modules in <code>shiny</code> are build is to construct separate namespace inside the app, so one should remember about this when trying to apply above rules for <code><a href="https://rdrr.io/pkg/shiny/man/bindEvent.html" class="external-link">bindEvent()</a></code> used on <code>render*</code> function:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># let's say `id` will be 'my_mod'</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>irisUI &lt;-<span class="st"> </span><span class="cf">function</span>(id) {</span>
<span id="cb3-3"><a href="#cb3-3"></a>  ns &lt;-<span class="st"> </span><span class="kw">NS</span>(id)</span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="kw">tagList</span>(</span>
<span id="cb3-5"><a href="#cb3-5"></a>    <span class="kw">actionButton</span>(<span class="kw">ns</span>(<span class="st">"show"</span>), <span class="st">"Show iris"</span>)</span>
<span id="cb3-6"><a href="#cb3-6"></a>    <span class="kw">tableOutput</span>(<span class="kw">ns</span>(<span class="st">"iris"</span>))</span>
<span id="cb3-7"><a href="#cb3-7"></a>  )</span>
<span id="cb3-8"><a href="#cb3-8"></a>}</span>
<span id="cb3-9"><a href="#cb3-9"></a></span>
<span id="cb3-10"><a href="#cb3-10"></a>irisServer &lt;-<span class="st"> </span><span class="cf">function</span>(id) {</span>
<span id="cb3-11"><a href="#cb3-11"></a>  <span class="kw">moduleServer</span>(</span>
<span id="cb3-12"><a href="#cb3-12"></a>    id,</span>
<span id="cb3-13"><a href="#cb3-13"></a>    <span class="cf">function</span>(input, output, session) {</span>
<span id="cb3-14"><a href="#cb3-14"></a>      iris &lt;-<span class="st"> </span><span class="kw">renderTable</span>({</span>
<span id="cb3-15"><a href="#cb3-15"></a>        iris</span>
<span id="cb3-16"><a href="#cb3-16"></a>      }) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb3-17"><a href="#cb3-17"></a><span class="st">        </span><span class="kw">bindEvent</span>(input<span class="op">$</span>show, <span class="dt">label =</span> <span class="st">"my_mod-iris"</span>)</span>
<span id="cb3-18"><a href="#cb3-18"></a>    }</span>
<span id="cb3-19"><a href="#cb3-19"></a>  )</span>
<span id="cb3-20"><a href="#cb3-20"></a>}</span></code></pre></div>
<p>We can see that to the <code>Id</code> (<code>iris</code>) it was necessary to add <code>my_mod-</code>, this is because <code><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS()</a></code> returns a function which <em>will</em> add prefix to the <code>Id</code> and this prefix is an <code>id</code> with <code>-</code> added: <code><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS()</a></code> is a function factory (makes other functions); we are passing a specific argument to <code><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS()</a></code> and then binds this to the <code>ns</code> name, making <code>ns()</code> function - <code>ns()</code> function returns the <code>id</code> which was passed to the <code><a href="https://rdrr.io/pkg/shiny/man/NS.html" class="external-link">NS()</a></code>, then <code>-</code> sign and then <code>Id</code> passed to the <code>ns()</code> function - everything pasted together.</p>
<p>Full app example would be like that:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">shinybreakpoint</span><span class="fu">::</span><span class="fu"><a href="../reference/set_filtering_by_id.html">set_filtering_by_id</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># TODO: remove</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  theme <span class="op">=</span> <span class="fu">bslib</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/bslib/reference/bs_theme.html" class="external-link">bs_theme</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span>,</span>
<span>  <span class="fu">irisUI</span><span class="op">(</span><span class="st">"my_mod"</span><span class="op">)</span> <span class="co"># module UI used</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">appServer</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>      </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">appServer</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span></span>
<span>  <span class="fu">irisServer</span><span class="op">(</span><span class="st">"my_mod"</span><span class="op">)</span> <span class="co"># module server used</span></span>
<span>  <span class="fu">shinybreakpoint</span><span class="fu">::</span><span class="fu"><a href="../reference/shinybreakpointServer.html">shinybreakpointServer</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># TODO: remove</span></span>
<span><span class="op">}</span></span>
<span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>irisUI &lt;-<span class="st"> </span><span class="cf">function</span>(id) {</span>
<span id="cb5-2"><a href="#cb5-2"></a>  ns &lt;-<span class="st"> </span><span class="kw">NS</span>(id)</span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="kw">tagList</span>(</span>
<span id="cb5-4"><a href="#cb5-4"></a>    <span class="kw">actionButton</span>(<span class="kw">ns</span>(<span class="st">"show"</span>), <span class="st">"Show iris"</span>)</span>
<span id="cb5-5"><a href="#cb5-5"></a>    <span class="kw">tableOutput</span>(<span class="kw">ns</span>(<span class="st">"iris"</span>))</span>
<span id="cb5-6"><a href="#cb5-6"></a>  )</span>
<span id="cb5-7"><a href="#cb5-7"></a>}</span>
<span id="cb5-8"><a href="#cb5-8"></a></span>
<span id="cb5-9"><a href="#cb5-9"></a>irisServer &lt;-<span class="st"> </span><span class="cf">function</span>(id) {</span>
<span id="cb5-10"><a href="#cb5-10"></a>  <span class="kw">moduleServer</span>(</span>
<span id="cb5-11"><a href="#cb5-11"></a>    id,</span>
<span id="cb5-12"><a href="#cb5-12"></a>    <span class="cf">function</span>(input, output, session) {</span>
<span id="cb5-13"><a href="#cb5-13"></a>      iris &lt;-<span class="st"> </span><span class="kw">renderTable</span>({</span>
<span id="cb5-14"><a href="#cb5-14"></a>        iris</span>
<span id="cb5-15"><a href="#cb5-15"></a>      }) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="st">        </span><span class="kw">bindEvent</span>(input<span class="op">$</span>show, <span class="dt">label =</span> <span class="st">"my_mod-iris"</span>, <span class="dt">ignoreInit =</span> <span class="ot">TRUE</span>)</span>
<span id="cb5-17"><a href="#cb5-17"></a>    }</span>
<span id="cb5-18"><a href="#cb5-18"></a>  )</span>
<span id="cb5-19"><a href="#cb5-19"></a>}</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="keeping-reactlog-clean">Keeping reactlog clean<a class="anchor" aria-label="anchor" href="#keeping-reactlog-clean"></a>
</h2>
<p><code><a href="../reference/set_filtering_by_id.html">shinybreakpoint::set_filtering_by_id()</a></code> enables <code>reactlog</code>, but also when the app stops, removes <code>reactlog</code> data from temporary directory. This is a negative result of manipulating functions attributes by <code>shinybreakpoint</code> - <code>reactlog</code> data can’t be just recreate when the app is running, but only when the app starts, otherwise <code>Id</code> dependency won’t be find correctly.</p>
<p>This has two consequences - first one is that if one want to change something in the source code of the app, then the app has to be stopped and run again - however it shouldn’t be a big inconvenience since this is also necessary to do if source code in module was modified and <code>shinybreakpoint</code> was created having modules in mind.</p>
<p>The second consequence is that for some reason when the app is stopped <em>during debug mode</em>, i.e. <code>Q</code> was used in debug mode, then <code>reactlog</code> data won’t be cleaned properly. Unfortunately, it means that to use filtering by <code>Id</code>, <code>Q</code> option in debug mode can’t be use - it one would like to exit from the debug mode and app, it is only possible to return to app (by <code>f</code> or <code>c</code> in debug mode) and then stopping the app.</p>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Grzegorz Smoliński.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
